/* oquery 0.1.0 2014-04-09 */
!function(a,b){function c(a,b,c){var d=-1;dir=b?"nextSibling":"previousSibling";do 1===a.nodeType&&(c?c===a.nodeName&&d++:d++);while(a=a[dir]);return d}function d(a,c){return a.currentStyle?a.currentStyle[c]:b.defaultView.getComputedStyle(a,!1)[c]}function e(a){return"[object array]"===x.call(a).toLowerCase()}function f(a,b,c){for(var d=0;d<a.length;d++)if(b.call(c,a[d],d,a))return}function g(a,b,c){for(var d=a.length;--d>-1;)if(b.call(c,a[d],d,a))return}function h(a,b){return new h.fn.init(a,b)}var i=/^(?:([a-z]+)|(?:#([a-z]\w*)))$/i,j=/^([a-z]+\w*)?(?:#([a-z][\w-]*))?((?:\.[a-z][\w-]*)+)?((?:\[["']?[a-z][\w-]*["']?(?:[\^\$\*\|~|\!]?=["']?[a-z][\w-]*)?["']?\])+)?(?:\:([a-z][\w-]*[a-z])(?:\((.+)\))?)?$/im,k=/(?!\([^\)]*)(?:\s|\~(?!=)|\+|>)(?![^\(]*\))/gim,l=/^\s+|\s+$/gm,m=/\s*\+\s*|\s*\~\s*(?!=)|\s*>\s*/gm,n=/\.([a-z][\w-]*)/gim,o=/\[(?:["']?([a-z][\w-]*)["']?)(?:([\^\$\*\|~|\!]?=)["']?([a-z][\w-]*)["']?)?\]/gim,p=/\s+/m,q=/\s+/gm,r=/(?!\([^\)]+)\s*,\s*(?![^\(]+\))/,s=/h1|h2|h3|h4|h5|h6/i,t=/input|select|textarea|button/i,u=/^(?:(\d+)|(?:(\d+)n(?:([\+-])(\d+))?)|(odd|even)|(n))$/i;Array.prototype.indexOf=Array.prototype.indexOf||function(a){for(var b=0;b<this.length;b++)if(this[b]===a)return b;return-1};var v=Array.prototype,w=v.push,x=(v.slide,Object.prototype.toString),y=1e3;h.fn=h.prototype={constructor:h,init:function(a,c){var d,e,f=[];if(c=c||b,d=i.exec(a)){if(d[1])return w.apply(f,c.getElementsByTagName(d[1])),f;if(d[2])return e=b.getElementById(d[2]),e&&f.push(e),f}else{if(!c.querySelectorAll)return this.querySelectorAll(a,c);try{return w.apply(f,c.querySelectorAll(a)),f}catch(g){return this.querySelectorAll(a,c)}}},querySelectorAll:function(a,b){var c=[],d=this.parseMultiSelector(a);return f(d,function(a){var d=this.queryNodes(a,b);f(d,function(a){this.isExist(c,a)||(c.push(a),this.setTag(c,a))},this)},this),c},queryNodes:function(a,b){var c,d,e,f=b;for(c=0;c<a.length;c+=2){if(d=a[c],e=a[c+1],!e)return[];f=this.ops[d].call(this,e,f)}return f},parseMultiSelector:function(a){for(var b=a.split(r),c=[],d=0;d<b.length;d++){var e=b[d],f=e.replace(m,function(a){return a.replace(q,"")}).replace(l,"").replace(q," "),g=f.split(k),h=[];f.replace(k,function(a){h.push(a)});for(var i=[],j=0;j<g.length;j++)i.push(this.parseSelector(g[j])),h[j]&&i.push(h[j]);i[0]?i.unshift(" "):i.shift(),c.push(i)}return c},parseSelector:function(a){if(!a)return null;var b=j.exec(a);return{tagname:b[1],id:b[2],cls:this.getClass(b[3]),attrs:this.getAttrs(b[4]),pseudo:b[5],pseudoAttr:b[6]}},getClass:function(a){var b=[];return a?(a.replace(n,function(a,c){c.replace(".",""),b.push(c)}),b):b},getAttrs:function(a){var b=[];return a?(a.replace(o,function(a,c,d,e){b.push({name:c,op:d,value:e})}),b):b},isExist:function(a,b){var c=b.getAttribute("data-tag");return c?!!a[c]:!1},setTag:function(a,b){var c=b.getAttribute("data-tag");c||(c="fq"+y++,b.setAttribute("data-tag",c)),a[c]=!0},ops:{" ":function(a,b){var c=[];return e(b)||(b=[b]),f(b,function(b){f(this.scanDescend(a,b),function(a){this.isExist(c,a)||(c.push(a),this.setTag(c,a))},this)},this),c},">":function(a,b){var c=[];return e(b)||(b=[b]),f(b,function(b){f(this.scanDescend(a,b,!0),function(a){this.isExist(c,a)||(c.push(a),this.setTag(c,a))},this)},this),c},"+":function(a,b){var c=[];return e(b)||(b=[b]),f(b,function(b){f(this.scanNextSibling(a,b),function(a){this.isExist(c,a)||(c.push(a),this.setTag(c,a))},this)},this),c},"~":function(a,b){var c=[];return e(b)||(b=[b]),f(b,function(b){for(;b=b.nextSibling;)1===b.nodeType&&!this.isExist(c,b)&&this.checkTier(a,b)&&(c.push(b),this.setTag(c,b))},this),c}},scanDescend:function(a,b,c){var d=[];if(c)this.scanNode(b,function(b){this.checkTier(a,b)&&d.push(b)});else{var e;a.id&&b.getElementById?(e=b.getElementById(a.id),e&&this.checkTier(a,e)&&d.push(e)):a.cls&&a.cls.length&&b.getElementsByClassName?(e=[],f(a.cls,function(a){f(b.getElementsByClassName(a),function(a){this.isExist(e,a)||(e.push(a),this.setTag(e,a))},this)},this),f(e,function(b){this.checkTier(a,b)&&d.push(b)},this)):(e=b.getElementsByTagName(a.tagname||"*"),e&&f(e,function(b){this.checkTier(a,b)&&d.push(b)},this))}return d},scanNextSibling:function(a,b){for(var c=[];b=b.nextSibling;)if(1===b.nodeType)return this.checkTier(a,b)&&c.push(b),c;return c},scanNode:function(a,b,c){if(c=c||a.firstChild)do 1===c.nodeType&&b.call(this,c);while(c=c.nextSibling)},checkTier:function(a,b){return a.id&&a.id!==b.id?!1:a.cls&&a.cls.length&&!this.checkCls(a.cls,b)?!1:a.attrs&&a.attrs.length&&!this.checkAttrs(a.attrs,b)?!1:a.tagname&&a.tagname.toLowerCase()!==b.nodeName.toLowerCase()?!1:a.pseudo&&!this.checkPseudo(a.pseudo,a.pseudoAttr,b)?!1:!0},checkCls:function(a,b){if(!b.className)return!1;var c={};f(b.className.split(p),function(a){c[a]={}});for(var d=0;d<a.length;d++)if(!c[a[d]])return!1;return!0},checkAttrs:function(a,b){for(var c,d,e=0;e<a.length;e++)if(c=a[e],c.op){var f=c.op;if(!this.attrop[f])return!1;if(d=this.attrop[f].call(this,c.name,c.value,b),!d)return!1}else if(d=this.getAttr(c.name,b),!d)return!1;return!0},checkPseudo:function(a,b,c){return this.pseudes[a]?this.pseudes[a].call(this,a,b,c):!1},attrop:{"=":function(a,b,c){return this.getAttr(a,c)===b},"~=":function(a,b,c){var d=this.getAttr(a,c);return d?RegExp("(?:^|\\s+)"+b+"(?:$|\\s+)").test(d):!1},"^=":function(a,b,c){var d=this.getAttr(a,c);return d?RegExp("^"+b).test(d):!1},"$=":function(a,b,c){var d=this.getAttr(a,c);return d?RegExp(b+"$").test(d):!1},"*=":function(a,b,c){var d=this.getAttr(a,c);return d?RegExp(b).test(d):!1},"|=":function(a,b,c){var d=this.getAttr(a,c);return d?RegExp(b+"(?:$|-)").test(d):!1},"!=":function(a,b,c){var d=this.getAttr(a,c);return d?b!==d:!1}},getAttr:function(a,b){return"class"===a?b.className:b.getAttribute(a)},pseudes:{first:function(a,b,c){var d;return f(c.parent.childNodes,function(a){return 1===a.nodeType?(d=a,!0):void 0}),d===c},last:function(){var a;return f(node.parent.childNodes,function(b){return 1===b.nodeType?(a=b,!0):void 0}),a===node},not:function(a,b,c){var d=this.parseMultiSelector(b)[0][1];return!this.checkTier(d,c)},even:function(a,b,c){for(var d=1;c=c.previousSibling;)1===c.nodeType&&d++;return d%2===0},odd:function(a,b,c){for(var d=1;c=c.previousSibling;)1===c.nodeType&&d++;return d%2===1},eq:function(a,b,c){for(var d=0;c=c.previousSibling;)1===c.nodeType&&d++;return isNaN(b)?!1:d===parseInt(b)},gt:function(a,b,c){for(var d=0;c=c.previousSibling;)1===c.nodeType&&d++;return isNaN(b)?!1:d>parseInt(b)},lt:function(a,b,c){for(var d=0;c=c.previousSibling;)1===c.nodeType&&d++;return isNaN(b)?!1:d<parseInt(b)},header:function(a,b,c){return s.test(c.nodeName)},focus:function(a,c,d){return b.activeElement===d},contains:function(a,b,c){return c.innerText.indexOf(b)>-1},empty:function(a,b,c){return!c.firstChild},has:function(a,b,c){var d=this.parseMultiSelector(b)[0][1];return this.checkTier(d,c)},parent:function(a,b,c){return!!c.firstChild},hidden:function(a,b,c){return"none"===d(c,"display")},visible:function(a,b,c){return"none"!==d(c,"display")},"nth-child":function(a,b,d,e,f){var g,h=c(d,e,f)+1,i=u.exec(b);return i[1]?h===parseInt(i[1]):i[2]?(g=parseInt(i[3]+i[4]||0),g===h?!0:g>h?!1:!((h-g)%i[2])):i[5]?"odd"===i[5]?h%2:!(h%2):i[6]?!0:void 0},"first-child":function(a,b,c){var d;return f(c.parentNode.childNodes,function(a){return 1===a.nodeType?(d=a,!0):void 0}),d===c},"last-child":function(a,b,c){var d;return g(c.parentNode.childNodes,function(a){return 1===a.nodeType?(d=a,!0):void 0}),d===c},"only-child":function(a,b,c){var c=c.parentNode.firstChild,d=0;for(1===c.nodeType&&d++;c=c.nextSibling;)if(1===c.nodeType&&(d++,d>1))return!1;return!0},"only-of-type":function(a,b,c){var d=c.nodeName,e=0,c=c.parentNode.firstChild;do if(1===c.nodeType&&d===c.nodeName&&(e++,e>1))return!1;while(c=c.nextSibling);return!0},"first-of-type":function(a,b,c){var d=0,e=c.parentNode.firstChild;do if(1===e.nodeType&&c.nodeName===e.nodeName){if(d++,1===d&&c===e)return!0;if(d>1)return!1}while(e=e.nextSibling);return!1},"last-of-type":function(a,b,c){var d=0,e=c.parentNode.lastChild;do if(1===e.nodeType&&c.nodeName===e.nodeName){if(d++,1===d&&c===e)return!0;if(d>1)return!1}while(e=e.previousSibling);return!1},"nth-of-type":function(a,b,c){return this.pseudes["nth-child"].call(this,a,b,c,!1,c.nodeName)},"nth-last-of-type":function(a,b,c){return this.pseudes["nth-child"].call(this,a,b,c,!0,c.nodeName)},input:function(a,b,c){return t.test(c.nodeName)},text:function(a,b,c){return"INPUT"===c.nodeName&&("text"===c.type||""===c.type)},password:function(a,b,c){return"INPUT"===c.nodeName&&"password"===c.type},radio:function(a,b,c){return"INPUT"===c.nodeName&&"radio"===c.type},checkbox:function(a,b,c){return"INPUT"===c.nodeName&&"checkbox"===c.type},submit:function(a,b,c){return"INPUT"===c.nodeName&&"submit"===c.type},image:function(a,b,c){return"INPUT"===c.nodeName&&"image"===c.type},reset:function(a,b,c){return"INPUT"===c.nodeName&&"reset"===c.type},button:function(a,b,c){return"INPUT"===c.nodeName&&"button"===c.type||"BUTTON"===c.nodeName},file:function(a,b,c){return"INPUT"===c.nodeName&&"file"===c.type},hidden:function(a,b,c){return"INPUT"===c.nodeName&&"hidden"===c.type},enabled:function(a,b,c){return t.test(c.nodeName)&&!c.disabled},disabled:function(a,b,c){return t.test(c.nodeName)&&!!c.disabled},checked:function(a,b,c){return"INPUT"===c.nodeName&&!!c.checked},selected:function(a,b,c){return"OPTION"===c.nodeName&&!!c.selected}}},h.fn.init.prototype=h.fn,"function"==typeof define&&define.amd&&define("oquery",[],function(){return h}),a.oQuery=h}(window,document);