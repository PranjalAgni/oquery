/* fastquery 0.1.0 2014-04-08 */
!function(a,b){function c(a,c){return a.currentStyle?a.currentStyle[c]:b.defaultView.getComputedStyle(a,!1)[c]}function d(a){return"[object array]"===u.call(a).toLowerCase()}function e(a,b,c){for(var d=0;d<a.length;d++)if(b.call(c,a[d],d,a))return}function f(a,b,c){return new f.fn.init(a,b,c)}var g=/^(?:([a-z]+)|(?:#([a-z]\w*)))$/i,h=/^([a-z]+\w*)?(?:#([a-z][\w-]*))?((?:\.[a-z][\w-]*)+)?((?:\[["']?[a-z][\w-]*["']?(?:[\^\$\*\|~|\!]?=["']?[a-z][\w-]*)?["']?\])+)?(?:\:([a-z][\w-]*[a-z])(?:\((.+)\))?)?$/im,i=/(?!\([^\)]*)\s(?![^\(]*\))|\~(?!=)|\+|>/gim,j=/^\s+|\s+$/gm,k=/\s*\+\s*|\s*\~\s*(?!=)|\s*>\s*/gm,l=/\.([a-z][\w-]*)/gim,m=/\[(?:["']?([a-z][\w-]*)["']?)(?:([\^\$\*\|~|\!]?=)["']?([a-z][\w-]*)["']?)?\]/gim,n=/\s+/m,o=/\s+/gm,p=/(?!\([^\)]+)\s*,\s*(?![^\(]+\))/,q=/h1|h2|h3|h4|h5|h6/i,r=/input|select|textarea|button/i;Array.prototype.indexOf=Array.prototype.indexOf||function(a){for(var b=0;b<this.length;b++)if(this[b]===a)return b;return-1};var s=Array.prototype,t=s.push,u=(s.slide,Object.prototype.toString);f.fn=f.prototype={constructor:f,init:function(a,c,d){var e,f;return d=d||[],c=c||b,(e=g.exec(a))?e[1]?(t.apply(d,c.getElementsByTagName(e[1])),d):e[2]?(f=b.getElementById(e[2]),f&&d.push(f),d):void 0:this.querySelectorAll(a,c)},querySelectorAll:function(a,b){var c=[],d=this.parseMultiSelector(a);return e(d,function(a){var d=this.queryNodes(a,b);e(d,function(a){-1===c.indexOf(a)&&c.push(a)},this)},this),c},queryNodes:function(a,b){var c,d,e,f=b;for(c=0;c<a.length;c+=2){if(d=a[c],e=a[c+1],!e)return[];f=this.ops[d].call(this,e,f)}return f},parseMultiSelector:function(a){for(var b=a.split(p),c=[],d=0;d<b.length;d++){var e=b[d],f=e.replace(k,function(a){return a.replace(o,"")}).replace(j,"").replace(o," "),g=f.split(i),h=[];f.replace(i,function(a){h.push(a)});for(var l=[],m=0;m<g.length;m++)l.push(this.parseSelector(g[m])),h[m]&&l.push(h[m]);l[0]?l.unshift(" "):l.shift(),c.push(l)}return c},parseSelector:function(a){if(!a)return null;var b=h.exec(a);return{tagname:b[1],id:b[2],cls:this.getClass(b[3]),attrs:this.getAttrs(b[4]),pseudo:b[5],pseudoAttr:b[6]}},getClass:function(a){var b=[];return a?(a.replace(l,function(a,c){c.replace(".",""),b.push(c)}),b):b},getAttrs:function(a){var b=[];return a?(a.replace(m,function(a,c,d,e){b.push({name:c,op:d,value:e})}),b):b},ops:{" ":function(a,b){var c=[];return d(b)||(b=[b]),e(b,function(b){e(this.scanDescend(a,b),function(a){-1===c.indexOf(a)&&c.push(a)})},this),c},">":function(a,b){var c=[];return d(b)||(b=[b]),e(b,function(b){e(this.scanDescend(a,b,!0),function(a){-1===c.indexOf(a)&&c.push(a)})},this),c},"+":function(a,b){var c=[];return d(b)||(b=[b]),e(b,function(b){e(this.scanNextSibling(a,b),function(a){-1===c.indexOf(a)&&c.push(a)})},this),c},"~":function(a,b){var c=[];return d(b)||(b=[b]),e(b,function(b){e(this.scanSiblings(a,b),function(a){-1===c.indexOf(a)&&c.push(a)})},this),c}},scanDescend:function(a,b,c){var d=[];if(c)this.scanNode(b,function(b){this.checkTier(a,b)&&d.push(b)});else{var f;a.id&&b.getElementById?(f=b.getElementById(a.id),f&&this.checkTier(a,f)&&d.push(f)):a.cls&&a.cls.length&&b.getElementsByClassName?(f=[],e(a.cls,function(a){e(b.getElementsByClassName(a),function(a){-1===f.indexOf(a)&&f.push(a)})}),e(f,function(b){this.checkTier(a,b)&&d.push(b)},this)):(f=b.getElementsByTagName(a.tagname||"*"),f&&e(f,function(b){this.checkTier(a,b)&&d.push(b)},this))}return d},scanSiblings:function(a,b){var c=[];return this.scanNode(b.parentNode,function(d){b!=d&&this.checkTier(a,d)&&c.push(d)},b),c},scanNextSibling:function(a,b){for(var c=[];b=b.nextSibling;)if(1===b.nodeType)return this.checkTier(a,b)&&c.push(b),c;return c},scanNode:function(a,b,c){if(c=c||a.firstChild)do 1===c.nodeType&&b.call(this,c);while(c=c.nextSibling)},checkTier:function(a,b){return a.id&&a.id!==b.id?!1:a.cls&&a.cls.length&&!this.checkCls(a.cls,b)?!1:a.attrs&&a.attrs.length&&!this.checkAttrs(a.attrs,b)?!1:a.tagname&&a.tagname.toLowerCase()!==b.nodeName.toLowerCase()?!1:a.pseudo&&!this.checkPseudo(a.pseudo,a.pseudoAttr,b)?!1:!0},checkCls:function(a,b){if(!b.className)return!1;var c={};e(b.className.split(n),function(a){c[a]={}});for(var d=0;d<a.length;d++)if(!c[a[d]])return!1;return!0},checkAttrs:function(a,b){for(var c,d,e=0;e<a.length;e++)if(c=a[e],c.op){var f=c.op;if(!this.attrop[f])return!1;if(d=this.attrop[f].call(this,c.name,c.value,b),!d)return!1}else if(d=this.getAttr(c.name,b),!d)return!1;return!0},checkPseudo:function(a,b,c){return this.pseudes[a]?this.pseudes[a].call(this,a,b,c):!1},attrop:{"=":function(a,b,c){return this.getAttr(a,c)===b},"~=":function(a,b,c){var d=this.getAttr(a,c);return d?RegExp("(?:^|\\s+)"+b+"(?:$|\\s+)").test(d):!1},"^=":function(a,b,c){var d=this.getAttr(a,c);return d?RegExp("^"+b).test(d):!1},"$=":function(a,b,c){var d=this.getAttr(a,c);return d?RegExp(b+"$").test(d):!1},"*=":function(a,b,c){var d=this.getAttr(a,c);return d?RegExp(b).test(d):!1},"|=":function(a,b,c){var d=this.getAttr(a,c);return d?RegExp(b+"(?:$|-)").test(d):!1},"!=":function(a,b,c){var d=this.getAttr(a,c);return d?b!==d:!1}},getAttr:function(a,b){return"class"===a?b.className:b.getAttribute(a)},pseudes:{first:function(a,b,c){var d;return e(c.parent.childNodes,function(a){return 1===a.nodeType?(d=a,!0):void 0}),d===c},last:function(){var a;return e(node.parent.childNodes,function(b){return 1===b.nodeType?(a=b,!0):void 0}),a===node},not:function(a,b,c){var d=this.parseMultiSelector(b)[0][1];return!this.checkTier(d,c)},even:function(a,b,c){for(var d=1;c=c.previousSibling;)1===c.nodeType&&d++;return d%2===0},odd:function(a,b,c){for(var d=1;c=c.previousSibling;)1===c.nodeType&&d++;return d%2===1},eq:function(a,b,c){for(var d=0;c=c.previousSibling;)1===c.nodeType&&d++;return isNaN(b)?!1:d===parseInt(b)},gt:function(a,b,c){for(var d=0;c=c.previousSibling;)1===c.nodeType&&d++;return isNaN(b)?!1:d>parseInt(b)},lt:function(a,b,c){for(var d=0;c=c.previousSibling;)1===c.nodeType&&d++;return isNaN(b)?!1:d<parseInt(b)},header:function(a,b,c){return q.test(c.nodeName)},focus:function(a,c,d){return b.activeElement===d},contains:function(a,b,c){return c.innerText.indexOf(b)>-1},empty:function(a,b,c){return!c.firstChild},has:function(){},parent:function(a,b,c){return!!c.firstChild},hidden:function(a,b,d){return"none"===c(d,"display")},visible:function(a,b,d){return"none"!==c(d,"display")},"nth-child":function(){},"first-child":function(){},"only-child":function(){},input:function(a,b,c){return r.test(c.nodeName)},text:function(a,b,c){return"INPUT"===c.nodeName&&("text"===c.type||""===c.type)},password:function(a,b,c){return"INPUT"===c.nodeName&&"password"===c.type},radio:function(a,b,c){return"INPUT"===c.nodeName&&"radio"===c.type},checkbox:function(a,b,c){return"INPUT"===c.nodeName&&"checkbox"===c.type},submit:function(a,b,c){return"INPUT"===c.nodeName&&"submit"===c.type},image:function(a,b,c){return"INPUT"===c.nodeName&&"image"===c.type},reset:function(a,b,c){return"INPUT"===c.nodeName&&"reset"===c.type},button:function(a,b,c){return"INPUT"===c.nodeName&&"button"===c.type||"BUTTON"===c.nodeName},file:function(a,b,c){return"INPUT"===c.nodeName&&"file"===c.type},hidden:function(a,b,c){return"INPUT"===c.nodeName&&"hidden"===c.type},enabled:function(a,b,c){return r.test(c.nodeName)&&!c.disabled},disabled:function(a,b,c){return r.test(c.nodeName)&&!!c.disabled},checked:function(a,b,c){return"INPUT"===c.nodeName&&!!c.checked},selected:function(a,b,c){return"OPTION"===c.nodeName&&!!c.selected}}},f.fn.init.prototype=f.fn,a.fastQuery=f}(window,document);